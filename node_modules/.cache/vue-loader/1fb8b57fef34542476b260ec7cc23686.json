{"remainingRequest":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue\\vuewxy\\src\\components\\common\\buttom\\Buttom.vue?vue&type=style&index=0&id=b0699644&scoped=true&lang=css","dependencies":[{"path":"D:\\vue\\vuewxy\\src\\components\\common\\buttom\\Buttom.vue","mtime":1615455316091},{"path":"D:\\vue\\vuewxy\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICNwbGF5ZXJ7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICANCiAgICANCiAgfQ0KICAucGxheWVyew0KICB9DQogIC5ub3JtYWwtcGxheWVyew0KICAgIHBhZGRpbmc6IDEwcHggMTVweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHdpZHRoOiAzMCU7DQogICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTYsIDU2LCA1NiwgMC41KTsNCiAgfQ0KICAudG9wew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgbWFyZ2luLXJpZ2h0OiAzMHB4Ow0KICB9DQogIC50b3AgaXsNCiAgICBmb250LXNpemU6IDI2cHg7DQogIH0NCiAgLmNlbnRlcnsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHdpZHRoOiA3MCU7DQogIH0NCiAgLmNlbnRlciBpbWd7DQogICAgd2lkdGg6IDE5JTsNCiAgfQ0KICAuZGlzYWJsZXsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7DQogIH0NCiAgLmNlbnRlci1ib3h7DQogICAgZmxleDogMTsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIG1hcmdpbi1sZWZ0OiAxNXB4Ow0KICB9DQogIC5ib3R0b217DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICB9DQogIC5mb290ZXJ7DQogICAgd2lkdGg6IDE1JTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgbWFyZ2luLXRvcDogMzJweDsNCiAgICBtYXJnaW4tbGVmdDogMjBweDsNCiAgfQ0KDQogPj4+LmVsLXNsaWRlcnsNCiAgICBmbGV4OiAxOw0KICAgIG1hcmdpbi10b3A6IDVweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogIH0NCiAgPj4+LmVsLXNsaWRlcl9fYnV0dG9uew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjAwMDA7DQogICAgYm9yZGVyOiAjZmZmZmZmIDZweCBzb2xpZCAhaW1wb3J0YW50Ow0KICB9Cg=="},{"version":3,"sources":["D:\\vue\\vuewxy\\src\\components\\common\\buttom\\Buttom.vue"],"names":[],"mappings":"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","file":"D:/vue/vuewxy/src/components/common/buttom/Buttom.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-affix position=\"bottom\" :offset=\"20\">\r\n    <div id=\"player\" class=\"player\" v-show=\"playList.length > 0\" >\r\n      <div class=\"normal-player\" v-show=\"fullScreen\" >\r\n        <div class=\"top\" :class=\"disableCls\">\r\n          <i class=\"el-icon-d-arrow-left\" @click=\"prev\" ></i>\r\n          <i @click=\"togglePlaying\" :class=\"playIcon\" ></i>\r\n          <i class=\"el-icon-d-arrow-right\" @click=\"next\" ></i>\r\n        </div>\r\n        <div class=\"center\">\r\n          <img :src=\"currentSong.al.picUrl\" alt=\"\">\r\n          <div class=\"center-box\">\r\n            <a style=\"margin-top: 5px;\" >{{currentSong.name}}</a>\r\n            <div style=\"margin-top: 5px;\">\r\n              <a v-for=\"(value, index) in currentSong.ar\" :key=\"index\" >{{value.name}}</a>\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <el-slider v-model=\"currentTime\" :max=\"duration\" @change=\"change\" :show-tooltip=\"false\" @mousedown=\"isChange = true\" @mouseup=\"isChange = false\"></el-slider>\r\n              <div style=\"margin-left: 5px;\">{{format(currentTime)}}&emsp;/</div>\r\n              <div style=\"margin-left: 10px;\">{{format(duration)}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"footer\">\r\n          <div @click='changeMode'>\r\n            <i :class=\"iconMode\" style=\"font-size: 1.2rem;\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <audio ref=\"audio\" @canplay=\"ready\" @error=\"error\" @ended=\"end\" autoplay=\"autoplay\" @timeupdate=\"updataTime\" :src=\"currentSong.Url.url\" ></audio>\r\n  </el-affix>\n\n</template>\r\n\n<script>\r\n  import { mapGetters, mapMutations } from 'vuex'\r\n  import { playMode } from '../../../common/js/config.js'\r\n  import { shuffle } from '../../../common/utils.js'\r\n  \r\n  export default{\r\n    name: 'Buttom',\r\n    data(){\r\n      return {\r\n          songReady: false,\r\n          currentTime: 0,\r\n          duration: 0,\r\n          isChange: false\r\n      }\r\n    },\r\n    emits: ['mousedown', 'mouseup'],\r\n    computed:{\r\n      ...mapGetters([\r\n        'fullScreen',\r\n        'playList',\r\n        'currentSong',\r\n        'playing',\r\n        'currentIndex',\r\n        'mode',\r\n        'sequenceList'\r\n      ]),\r\n      playIcon() {\r\n        return this.playing ? 'el-icon-video-pause' : 'el-icon-video-play'\r\n      },\r\n      disableCls() {\r\n        return this.songReady ? '' : 'disable'\r\n      },\r\n      iconMode() {\r\n        return this.mode === playMode.sequence ? 'el-icon-refresh-right' : this.mode === playMode.loop ? 'el-icon-refresh' : 'el-icon-sort'\r\n      }\r\n    },\r\n    methods:{\r\n      ...mapMutations({\r\n        setPlayState: 'SET_PLAYING_STATE',\r\n        setCurrentIndex: 'SET_CURRENT_INDEX',\r\n        setPlayMode: 'SET_PLAY_MODE',\r\n        setPlayList: 'SET_PLAY_LIST'\r\n      }),\r\n      togglePlaying(){\r\n        if(!this.songReady) {\r\n          return\r\n        }\r\n        this.setPlayState(!this.playing)\r\n        // console.log(this.$store.state.playing)\r\n      },\r\n      prev(){\r\n        if(!this.songReady) {\r\n          return\r\n        }\r\n        let index = this.currentIndex - 1\r\n        if(index === -1) {\r\n          index = this.playList.length - 1\r\n        }\r\n        this.setCurrentIndex(index)\r\n        if(!this.playing){\r\n          this.togglePlaying()\r\n        }\r\n      },\r\n      next(){\r\n        if(!this.songReady) {\r\n          return\r\n        }\r\n        let index = this.currentIndex + 1\r\n         if(index === this.playList.length) {\r\n           index = 0\r\n         }\r\n         this.setCurrentIndex(index)\r\n         if(!this.playing){\r\n           this.togglePlaying()\r\n         }\r\n      },\r\n      ready() {\r\n        this.duration = this.$refs.audio.duration;\r\n        this.songReady = true\r\n      },\r\n      error() {\r\n        this.songReady = true\r\n      },\r\n      updataTime() {\r\n        if (this.isChange === false) {\r\n          this.currentTime = this.$refs.audio.currentTime\r\n        }\r\n        \r\n      },\r\n      format(value) {\r\n        value = value | 0\r\n        const minute = value / 60 | 0\r\n        const second = this._pad(value % 60) \r\n        return `${minute} : ${second}`\r\n      },\r\n      _pad(num, n = 2) {\r\n        let len = num.toString().length\r\n        while (len < n) {\r\n          num = '0' + num\r\n          len++\r\n        }\r\n        return num\r\n      },\r\n      change() {\r\n        this.$refs.audio.currentTime = this.currentTime\r\n        this.isChange = false\r\n      },\r\n      changeMode() {\r\n        const mode = (this.mode + 1) % 3\r\n        this.setPlayMode(mode)\r\n        \r\n        let list = []\r\n        \r\n        if (mode === playMode.random) {\r\n          list = shuffle(this.sequenceList)\r\n        } else {\r\n          list = this.sequenceList\r\n        }\r\n        this.resetCurrentIndex(list)\r\n        this.setPlayList(list)\r\n      },\r\n      resetCurrentIndex(list) {\r\n        list.findIndex(item => {\r\n          return item.id === this.currentSong.id\r\n        })\r\n      },\r\n      end() {\r\n        if (this.mode === playMode.loop) {\r\n          this.loop()\r\n        } else {\r\n          this.next()\r\n        }\r\n      },\r\n      loop() {\r\n        this.$refs.audio.currentTime = 0\r\n        this.$refs.audio.play()\r\n      }\r\n    },\r\n    watch:{\r\n      currentSong(newVal, oldVal) {\r\n        if (newVal.id === oldVal.id) {\r\n          return\r\n        }\r\n        this.$nextTick(() => {\r\n          this.$refs.audio.play()\r\n        })\r\n      },\r\n      playing(newVal) {\r\n        \r\n        this.$nextTick(() => {\r\n          const audio = this.$refs.audio\r\n          newVal ? audio.play() : audio.pause()\r\n        })\r\n      },\r\n      isChange(Val, oldVal) {\r\n      }\r\n    }\r\n  }\n</script>\n\n<style scoped>\r\n  #player{\r\n    display: flex;\r\n    justify-content: center;\r\n    \r\n    \r\n  }\r\n  .player{\r\n  }\r\n  .normal-player{\r\n    padding: 10px 15px;\r\n    display: flex;\r\n    width: 30%;\r\n    border-radius: 10px 10px;\r\n    background-color: rgba(56, 56, 56, 0.5);\r\n  }\r\n  .top{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-right: 30px;\r\n  }\r\n  .top i{\r\n    font-size: 26px;\r\n  }\r\n  .center{\r\n    display: flex;\r\n    width: 70%;\r\n  }\r\n  .center img{\r\n    width: 19%;\r\n  }\r\n  .disable{\r\n    background-color: red;\r\n  }\r\n  .center-box{\r\n    flex: 1;\r\n    align-items: center;\r\n    margin-left: 15px;\r\n  }\r\n  .bottom{\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .footer{\r\n    width: 15%;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 32px;\r\n    margin-left: 20px;\r\n  }\r\n\r\n >>>.el-slider{\r\n    flex: 1;\r\n    margin-top: 5px;\r\n    margin-right: 10px;\r\n  }\r\n  >>>.el-slider__button{\r\n    background-color: #ff0000;\r\n    border: #ffffff 6px solid !important;\r\n  }\n</style>\n"]}]}