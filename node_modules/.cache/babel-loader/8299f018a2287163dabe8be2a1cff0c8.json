{"remainingRequest":"D:\\vue\\vuewxy\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue\\vuewxy\\src\\views\\home\\childComps\\HomeContent.vue?vue&type=template&id=e39b780e&scoped=true","dependencies":[{"path":"D:\\vue\\vuewxy\\src\\views\\home\\childComps\\HomeContent.vue","mtime":1616224232902},{"path":"D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi1lMzliNzgwZSIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtZTM5Yjc4MGUiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiaG9tZS1jb250ZW50Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInJvdyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJmbCBjb2wtbGctOSBjb2wtbWQtOCBjb2wtc20tMTIgY29sLXN4LTEyIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImZyIGNvbC1sZy0zIGNvbC1tZC00IGNvbC1zbS0xMiBjb2wtc3gtMTIiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfZ29vZHMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZ29vZHMiKTsKCiAgdmFyIF9jb21wb25lbnRfc2hvd19nb29kcyA9IF9yZXNvbHZlQ29tcG9uZW50KCJzaG93LWdvb2RzIik7CgogIHZhciBfY29tcG9uZW50X2dvb2RzX3N3aXBlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJnb29kcy1zd2lwZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfZ29vZHNfbGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJnb29kcy1saXN0Iik7CgogIHZhciBfY29tcG9uZW50X2xvZ19pbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJsb2ctaW4iKTsKCiAgdmFyIF9jb21wb25lbnRfc2luZ2VyID0gX3Jlc29sdmVDb21wb25lbnQoInNpbmdlciIpOwoKICB2YXIgX2NvbXBvbmVudF9ob3RfYW5jaG9yID0gX3Jlc29sdmVDb21wb25lbnQoImhvdC1hbmNob3IiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfc2hvd19nb29kcywgewogICAgdGl0bGU6ICRkYXRhLnRpdGxlLAogICAgdGFnOiAi54Ot6Zeo5qCH562+IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2dvb2RzLCB7CiAgICAgICAgcGxheWxpc3Rob3Q6ICRkYXRhLnBsYXlsaXN0aG90CiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbInBsYXlsaXN0aG90Il0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0aXRsZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfc2hvd19nb29kcywgewogICAgdGFnOiAi5paw56Kf5LiK5p62IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2dvb2RzX3N3aXBlciwgewogICAgICAgIHRvcGFsYnVtOiAkZGF0YS50b3BhbGJ1bQogICAgICB9LCBudWxsLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJ0b3BhbGJ1bSJdKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfc2hvd19nb29kcywgewogICAgdGFnOiAi5qac5Y2VIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2dvb2RzX2xpc3QsIHsKICAgICAgICB0b3BsaXN0OiAkZGF0YS50b3BsaXN0LAogICAgICAgIG9uU2VsZWN0OiAkb3B0aW9ucy5zZWxlY3QsCiAgICAgICAgb25PbmVwbGF5OiAkb3B0aW9ucy5vbmVwbGF5CiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbInRvcGxpc3QiLCAib25TZWxlY3QiLCAib25PbmVwbGF5Il0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2xvZ19pbiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3NpbmdlciwgewogICAgYXJ0aXN0czogJGRhdGEuYXJ0aXN0cwogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJhcnRpc3RzIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9ob3RfYW5jaG9yLCB7CiAgICBkanRvcDogJGRhdGEuZGp0b3AKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiZGp0b3AiXSldKV0pXSk7Cn0pOw=="},{"version":3,"sources":["D:\\vue\\vuewxy\\src\\views\\home\\childComps\\HomeContent.vue"],"names":[],"mappings":";;;;;;;AACM,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAYJ,EAAA,KAAK,EAAC;;;;;;;;;;;;;;;;;;;;uBAdjB,YAAA,CAoBQ,KApBR,EAAA,UAAA,EAoBQ,CAnBN,YAAA,CAkBQ,KAlBR,EAAA,UAAA,EAkBQ,CAjBN,YAAA,CAWQ,KAXR,EAAA,UAAA,EAWQ,CAVJ,YAAA,CAEa,qBAFb,EAEa;AAFA,IAAA,KAAK,EAAE,KAAA,CAAA,KAEP;AAFc,IAAA,GAAG,EAAC;AAElB,GAFb,E;qBACE;AAAA,aAAoC,CAApC,YAAA,CAAoC,gBAApC,EAAoC;AAA5B,QAAA,WAAW,EAAE,KAAA,CAAA;AAAe,OAApC,EAAgC,IAAhC,EAAgC;AAAA;AAAhC,QAAgC,CAAA,aAAA,CAAhC,CAAoC,CAApC;AAAA,K;;;;GADF,E;;AAAA,I,SAAA,CAUI,EAPJ,YAAA,CAEa,qBAFb,EAEa;AAFD,IAAA,GAAG,EAAC;AAEH,GAFb,EAAsB;qBACpB;AAAA,aAAmD,CAAnD,YAAA,CAAmD,uBAAnD,EAAmD;AAApC,QAAA,QAAQ,EAAE,KAAA,CAAA;AAA0B,OAAnD,EAAiC,IAAjC,EAAiC;AAAA;AAAjC,QAAiC,CAAA,UAAA,CAAjC,CAAmD,CAAnD;AAAA,K,CADoB;;;;AAAA,GAAtB,CAOI,EAJJ,YAAA,CAGa,qBAHb,EAGa;AAHD,IAAA,GAAG,EAAC;AAGH,GAHb,EAAoB;qBAClB;AAAA,aACa,CADb,YAAA,CACa,qBADb,EACa;AADA,QAAA,OAAO,EAAE,KAAA,CAAA,OACT;AADmB,QAAA,QAAM,EAAE,QAAA,CAAA,MAC3B;AADoC,QAAA,SAAO,EAAE,QAAA,CAAA;AAC7C,OADb,E,IAAA,E;;AAAA,Q,oCAAA,CACa,CADb;AAAA,K,CADkB;;;;AAAA,GAApB,CAII,CAXR,CAiBM,EALJ,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAU,iBAAV,CAGI,EAFJ,YAAA,CAA6B,iBAA7B,EAA6B;AAApB,IAAA,OAAO,EAAE,KAAA,CAAA;AAAW,GAA7B,EAAyB,IAAzB,EAAyB;AAAA;AAAzB,IAAyB,CAAA,SAAA,CAAzB,CAEI,EADJ,YAAA,CAA6B,qBAA7B,EAA6B;AAAhB,IAAA,KAAK,EAAE,KAAA,CAAA;AAAS,GAA7B,EAAyB,IAAzB,EAAyB;AAAA;AAAzB,IAAyB,CAAA,OAAA,CAAzB,CACI,CAJN,CAKI,CAlBR,CAmBM,CApBR,C","sourcesContent":["<template>\r\n <div class=\"home-content\">\r\n   <div class=\"row\">\r\n     <div class=\"fl col-lg-9 col-md-8 col-sm-12 col-sx-12\">\r\n         <show-goods :title=\"title\" tag='热门标签'>\r\n           <goods :playlisthot='playlisthot' />\r\n         </show-goods>\r\n         <show-goods tag=\"新碟上架\">\r\n           <goods-swiper :topalbum='topalbum' ></goods-swiper>\r\n         </show-goods>\r\n         <show-goods tag=\"榜单\">\r\n           <goods-list :toplist=\"toplist\" @select=\"select\" @oneplay=\"oneplay\">\r\n           </goods-list>\r\n         </show-goods>\r\n       </div>\r\n       <div class=\"fr col-lg-3 col-md-4 col-sm-12 col-sx-12\">\r\n         <log-in />\r\n         <singer :artists=\"artists\" />\r\n         <hot-anchor :djtop=\"djtop\" />\r\n       </div>  \r\n     </div>\r\n   </div>\n</template>\n\n<script>\r\n  import ShowGoods from '../../../components/content/goods/ShowGoods.vue'\r\n  import Goods from '../../../components/content/goods/Goods.vue'\r\n  import GoodsSwiper from '../../../components/content/goods/GoodsSwiper.vue'\r\n  import GoodsList from '../../../components/content/goods/GoodsList.vue'\r\n  import LogIn from './LogIn.vue'\r\n  import Singer from './Singer.vue'\r\n  import HotAnchor from './HotAnchor.vue';\r\n  \r\n  import { mapActions, mapMutations } from 'vuex'\r\n  \r\n  import { getPlayListHot, getTopAlbum, getTopList, getListDetail, getSongDetail, getArtistList, getArtistDetail, getDjTop, getSongUrl, getLyric } from '../../../network/home.js'\r\n    \r\n  export default {\r\n    name: 'HomeComtent',\r\n    components: {\r\n      ShowGoods,\r\n      Goods,\r\n      GoodsSwiper,\r\n      GoodsList,\r\n      LogIn,\r\n      Singer,\r\n      HotAnchor\r\n    },\r\n    data() {\r\n      return {\r\n        limit: 8,\r\n        playlisthot: [],\r\n        topalbum: {},\r\n        title: ['华语', '流行', '摇滚', '电子', '民谣'],\r\n        toplist: [],\r\n        artists: [],\r\n        djtop: [],\r\n        list: []\r\n      }\r\n    },\r\n    created() {\r\n      this.getPlayListHot()\r\n      this.getTopAlbum()\r\n      this.getTopList()\r\n      this.getArtistList()\r\n      this.getDjTop()\r\n      \r\n      this.$mybus.on('selectItem',value =>{\r\n        getListDetail(value.id).then(res => {\r\n          this.list = res.playlist.tracks\r\n          this.list.forEach(va => {\r\n            this.getSongList(va)\r\n            this.selectPlay({\r\n              list: this.list,\r\n              index: 0\r\n            })\r\n          })\r\n        })\r\n      })\r\n    },\r\n    computed:{\r\n      \r\n    },\r\n    methods:{\r\n      ...mapActions([\r\n        'selectPlay'\r\n      ]),\r\n      ...mapMutations({\r\n        setAddList: 'SET_ADD_LIST',\r\n        setCurrentIndex: 'SET_CURRENT_INDEX'\r\n      }),\r\n        \r\n      getPlayListHot() {\r\n        getPlayListHot(this.limit).then(res => {\r\n          // console.log(res)\r\n          this.playlisthot = res.result\r\n          // console.log(this.palylisthot)\r\n        })\r\n      },\r\n      \r\n      getTopAlbum() {\r\n        getTopAlbum(this.limit).then(res => {\r\n          this.topalbum = res.albums\r\n          // console.log(this.topalbum)\r\n        })\r\n      },\r\n      getTopList(){\r\n        this.$nextTick(() => {\r\n          return new Promise((resolve) => {\r\n            getTopList().then(res => {\r\n              resolve(res)\r\n            })\r\n          }).then(value => {          \r\n            value.list.splice(0, 3).forEach(v => {\r\n              let ids = []\r\n              getListDetail(v.id).then(d => {\r\n                d.privileges.forEach(c => {\r\n                  ids.push(c.id)\r\n                })\r\n                getSongDetail(ids.slice(0, 10)).then(f => {\r\n                  v.songs = f.songs\r\n                  v.songs.forEach(va => {\r\n                    this.getSongList(va)\r\n                  })\r\n                  this.toplist.push(v)\r\n                })\r\n              }) \r\n            })    \r\n          })\r\n        })\r\n      },\r\n      \r\n      getArtistList() {\r\n        getArtistList().then(res => {\r\n          res.artists.forEach(value => {\r\n            this.getArtistDetail(value.id)\r\n          })\r\n        })\r\n      },\r\n      getArtistDetail(value){\r\n        getArtistDetail(value).then(res => {\r\n          // console.log(res)\r\n          this.artists.push(res.data.artist)\r\n        })\r\n      },\r\n      \r\n      getDjTop() {\r\n        getDjTop().then(res => {\r\n          // console.log(res)\r\n          this.djtop = res.toplist\r\n          // console.log(this.djtop)\r\n        })\r\n      },\r\n      \r\n      getSongList(va){\r\n        let id = va.id\r\n        getSongUrl(id).then(res => {\r\n            res.data.forEach(v => {\r\n              va.audioUrl = v.url\r\n            })\r\n        })\r\n        getLyric(id).then(res => {\r\n          if(res.lrc) {\r\n            va.lyric = res.lrc\r\n          }\r\n        })\r\n      },\r\n      \r\n      select(value) {\r\n        this.list = value.songs\r\n        this.list.forEach(va => {\r\n          this.getSongList(va)\r\n          this.selectPlay({\r\n            list: this.list,\r\n            index: 0\r\n          })\r\n        })\r\n      },\r\n      \r\n      oneplay(item, index) {\r\n        console.log(item)\r\n        let arr = this.list.filter(value => {\r\n          return value.id != item.id\r\n        })\r\n        if (arr.length < this.list.length) {\r\n          this.list.forEach(va => {\r\n            this.getSongList(va)\r\n          })\r\n        }else {\r\n          this.setAddList(item)\r\n        } \r\n        \r\n        \r\n        \r\n      }\r\n    }\r\n  }\n</script>\n\n<style scoped>\r\n  .home-content{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 60%;\r\n  }\r\n  .fl{\r\n    padding: 20px 20px;\r\n    border: 1px #d5d5d5 solid;\r\n    border-top: none;\r\n  }\r\n  .fr{\r\n    border: 1px #d5d5d5 solid;\r\n    border-top: none;    \r\n    border-left: none;\r\n  }\r\n  \r\n  @media only screen and (max-width: 960px) {\r\n    .home-content{\r\n      flex-flow: row wrap;\r\n    }\r\n  }\r\n  \n</style>\n"],"sourceRoot":""}]}