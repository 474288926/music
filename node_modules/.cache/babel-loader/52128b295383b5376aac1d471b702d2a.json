{"remainingRequest":"D:\\vue\\vuewxy\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue\\vuewxy\\src\\views\\category\\Category.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue\\vuewxy\\src\\views\\category\\Category.vue","mtime":1614916895525},{"path":"D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue\\vuewxy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\vuewxy\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgTmV3UmFkaW8gZnJvbSAnLi9jaGlsZENvbXBzL05ld1JhZGlvLnZ1ZSc7CmltcG9ydCBSYWRpb1JhbmsgZnJvbSAnLi9jaGlsZENvbXBzL1JhZGlvUmFuay52dWUnOwppbXBvcnQgRGpCYW5uZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb250ZW50L2RqYmFubmVyL0RqQmFubmVyLnZ1ZSc7CmltcG9ydCB7IGdldERqQ2F0ZUxpc3QgYXMgX2dldERqQ2F0ZUxpc3QsIGdldERqUmVjb21tZW5kVHlwZSBhcyBfZ2V0RGpSZWNvbW1lbmRUeXBlLCBnZXREalJhZGlvSG90IGFzIF9nZXREalJhZGlvSG90IH0gZnJvbSAnLi4vLi4vbmV0d29yay9jYXRlZ29yeS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2F0ZWdvcnknLAogIGNvbXBvbmVudHM6IHsKICAgIERqQmFubmVyOiBEakJhbm5lciwKICAgIE5ld1JhZGlvOiBOZXdSYWRpbywKICAgIFJhZGlvUmFuazogUmFkaW9SYW5rCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIGRqcmVjb21tZW5kdHlwZTogW10sCiAgICAgIGRqcmFkaW9ob3Q6IFtdLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgbGltaXQ6IDAsCiAgICAgIG9mZnNldDogMjAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB0aGlzLmdldERqQ2F0ZUxpc3QoKTsKICAgIHRoaXMuZ2V0RGpSZWNvbW1lbmRUeXBlKGlkKTsKICAgIHRoaXMuZ2V0RGpSYWRpb0hvdChpZCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREakNhdGVMaXN0OiBmdW5jdGlvbiBnZXREakNhdGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2dldERqQ2F0ZUxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5jYXRlZ29yaWVzID0gcmVzLmNhdGVnb3JpZXM7IC8vIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcmllcykKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGpSZWNvbW1lbmRUeXBlOiBmdW5jdGlvbiBnZXREalJlY29tbWVuZFR5cGUodmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBfZ2V0RGpSZWNvbW1lbmRUeXBlKHZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuZGpyZWNvbW1lbmR0eXBlID0gcmVzLmRqUmFkaW9zLnNwbGljZSgwLCA1KTsgLy8gY29uc29sZS5sb2codGhpcy5kanJlY29tbWVuZHR5cGUpCiAgICAgIH0pOwogICAgfSwKICAgIGdldERqUmFkaW9Ib3Q6IGZ1bmN0aW9uIGdldERqUmFkaW9Ib3QodmFsdWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBfZ2V0RGpSYWRpb0hvdCh2YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmRqcmFkaW9ob3QgPSByZXMuZGpSYWRpb3M7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzLmRqUmFkaW9zLmxlbmd0aDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMuZGpyYWRpb2hvdCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENhdGVJZDogZnVuY3Rpb24gZ2V0Q2F0ZUlkKHZhbHVlKSB7CiAgICAgIHRoaXMuZ2V0RGpSZWNvbW1lbmRUeXBlKHZhbHVlKTsKICAgICAgdGhpcy5nZXREalJhZGlvSG90KHZhbHVlKTsKICAgIH0sCiAgICBwbGF5bGlzdHNsaWNlOiBmdW5jdGlvbiBwbGF5bGlzdHNsaWNlKHZhbHVlLCBsaW1pdCwgb2Zmc2V0KSB7CiAgICAgIHJldHVybiB2YWx1ZS5zbGljZShsaW1pdCwgb2Zmc2V0KTsKICAgIH0sCiAgICBjdXJyZW50Y2hhbmdlOiBmdW5jdGlvbiBjdXJyZW50Y2hhbmdlKHZhbCkgewogICAgICB0aGlzLmxpbWl0ID0gKHZhbCAtIDEpICogMjA7CiAgICAgIHRoaXMub2Zmc2V0ID0gdmFsICogMjA7IC8vIGNvbnNvbGUubG9nKHZhbCkKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\vue\\vuewxy\\src\\views\\category\\Category.vue"],"names":[],"mappings":";;AAmBE,OAAO,QAAP,MAAqB,2BAArB;AACA,OAAO,SAAP,MAAsB,4BAAtB;AAEA,OAAO,QAAP,MAAqB,gDAArB;AAEA,SAAS,aAAa,IAAb,cAAT,EAAwB,kBAAkB,IAAlB,mBAAxB,EAA4C,aAAY,IAAZ,cAA5C,QAAiE,2BAAjE;AAEA,eAAc;AACZ,EAAA,IAAI,EAAE,UADM;AAEZ,EAAA,UAAU,EAAC;AACT,IAAA,QAAQ,EAAR,QADS;AAET,IAAA,QAAQ,EAAR,QAFS;AAGT,IAAA,SAAQ,EAAR;AAHS,GAFC;AAOZ,EAAA,IAPY,kBAON;AACJ,WAAO;AACL,MAAA,UAAU,EAAE,EADP;AAEL,MAAA,eAAe,EAAE,EAFZ;AAGL,MAAA,UAAU,EAAE,EAHP;AAIL,MAAA,KAAK,EAAE,IAJF;AAKL,MAAA,KAAK,EAAE,CALF;AAML,MAAA,MAAM,EAAE;AANH,KAAP;AAQD,GAhBW;AAiBZ,EAAA,OAjBY,qBAiBF;AACR,QAAI,EAAC,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,EAA3B;AACA,SAAK,aAAL;AACA,SAAK,kBAAL,CAAwB,EAAxB;AACA,SAAK,aAAL,CAAmB,EAAnB;AACD,GAtBW;AAuBZ,EAAA,OAAO,EAAC;AACN,IAAA,aADM,2BACS;AAAA;;AACb,MAAA,cAAa,GAAG,IAAhB,CAAqB,UAAA,GAAE,EAAK;AAC1B,QAAA,KAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,UAAtB,CAD0B,CAE1B;AACD,OAHD;AAID,KANK;AAON,IAAA,kBAPM,8BAOa,KAPb,EAOmB;AAAA;;AACvB,MAAA,mBAAkB,CAAC,KAAD,CAAlB,CAA0B,IAA1B,CAA+B,UAAA,GAAE,EAAK;AACpC,QAAA,MAAI,CAAC,eAAL,GAAuB,GAAG,CAAC,QAAJ,CAAa,MAAb,CAAoB,CAApB,EAAuB,CAAvB,CAAvB,CADoC,CAEpC;AACD,OAHD;AAID,KAZK;AAaN,IAAA,aAbM,yBAaQ,KAbR,EAac;AAAA;;AAClB,MAAA,cAAa,CAAC,KAAD,CAAb,CAAqB,IAArB,CAA0B,UAAA,GAAE,EAAK;AAC/B,QAAA,MAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,QAAtB;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,QAAJ,CAAa,MAA1B;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,UAAjB;AACD,OAJD;AAKD,KAnBK;AAoBN,IAAA,SApBM,qBAoBI,KApBJ,EAoBU;AACd,WAAK,kBAAL,CAAwB,KAAxB;AACA,WAAK,aAAL,CAAmB,KAAnB;AACD,KAvBK;AAwBN,IAAA,aAxBM,yBAwBQ,KAxBR,EAwBe,KAxBf,EAwBsB,MAxBtB,EAwB6B;AAChC,aAAO,KAAK,CAAC,KAAN,CAAY,KAAZ,EAAmB,MAAnB,CAAP;AACF,KA1BK;AA2BN,IAAA,aA3BM,yBA2BQ,GA3BR,EA2BY;AAChB,WAAK,KAAL,GAAa,CAAC,GAAE,GAAI,CAAP,IAAU,EAAvB;AACA,WAAK,MAAL,GAAc,GAAG,GAAC,EAAlB,CAFgB,CAGhB;AACD;AA/BK;AAvBI,CAAd","sourcesContent":["<template>\r\n  <div id=\"category\">\r\n    <div class=\"category\">\r\n      <dj-banner :categories=\"categories\" @getCateId=\"getCateId\"/>\r\n      <new-radio :djrecommendtype=\"djrecommendtype\" />\r\n      <radio-rank :djradiohot=\"playlistslice(djradiohot, limit, offset)\" ></radio-rank>\r\n      <div class=\"page\">\r\n        <el-pagination\r\n          @current-change=\"currentchange\"\r\n          layout=\"prev, pager, next\"\r\n          :total=\"total/2\">\r\n        </el-pagination>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\n</template>\n\n<script>\r\n  import NewRadio from './childComps/NewRadio.vue'\r\n  import RadioRank from './childComps/RadioRank.vue'\r\n  \r\n  import DjBanner from '../../components/content/djbanner/DjBanner.vue'\r\n  \r\n  import { getDjCateList, getDjRecommendType, getDjRadioHot } from '../../network/category.js'\r\n  \r\n  export default{\r\n    name: 'Category',\r\n    components:{\r\n      DjBanner,\r\n      NewRadio,\r\n      RadioRank\r\n    },\r\n    data(){\r\n      return {\r\n        categories: [],\r\n        djrecommendtype: [],\r\n        djradiohot: [],\r\n        total: null,\r\n        limit: 0,\r\n        offset: 20\r\n      }\r\n    },\r\n    created() {\r\n      let id = this.$route.query.id\r\n      this.getDjCateList()\r\n      this.getDjRecommendType(id)\r\n      this.getDjRadioHot(id)\r\n    },\r\n    methods:{\r\n      getDjCateList(){\r\n        getDjCateList().then(res => {\r\n          this.categories = res.categories\r\n          // console.log(this.categories)\r\n        })\r\n      },\r\n      getDjRecommendType(value){\r\n        getDjRecommendType(value).then(res => {\r\n          this.djrecommendtype = res.djRadios.splice(0, 5)\r\n          // console.log(this.djrecommendtype)\r\n        })\r\n      },\r\n      getDjRadioHot(value){\r\n        getDjRadioHot(value).then(res => {\r\n          this.djradiohot = res.djRadios\r\n          this.total = res.djRadios.length\r\n          console.log(this.djradiohot)\r\n        })\r\n      },\r\n      getCateId(value){\r\n        this.getDjRecommendType(value)\r\n        this.getDjRadioHot(value)       \r\n      },\r\n      playlistslice(value, limit, offset){\r\n         return value.slice(limit, offset)\r\n      },\r\n      currentchange(val){\r\n        this.limit = (val - 1)*20\r\n        this.offset = val*20\r\n        // console.log(val)\r\n      },\r\n    }\r\n  }\n</script>\n\n<style scoped>\r\n  #category{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    overflow-y: scroll;\r\n    height: 88vh;\r\n  }\r\n  .category{\r\n    width: 50%;\r\n    padding-top: 20px;\r\n    border-left: #d5d5d5 1px solid;\r\n    border-right: #d5d5d5 1px solid;\r\n    border-bottom: #d5d5d5 1px solid;\r\n  }\r\n  .page{\r\n    display: flex;\r\n    justify-content: center;\r\n  }\n</style>\n"],"sourceRoot":""}]}